{"version":3,"names":["fs","require","path","describe","beforeEach","jest","resetModules","resetAllMocks","mockSpawnSync","fn","fakeRequest","receivedImageBuffer","Buffer","from","snapshotIdentifier","snapshotsDir","updateSnapshot","failureThreshold","failureThresholdType","setupTest","spawnReturn","mock","spawnSync","mockReturnValue","runDiffImageToSnapshot","it","status","output","JSON","stringify","add","updated","expect","toEqual","toBeCalled","each","error","Error","toThrowError","mockSnapshotsDir","normalize","mockReceivedDir","mockDiffDir","mockSnapshotIdentifier","mockImagePath","mockImageBuffer","readFileSync","mockBigImagePath","mockBigImageBuffer","mockFailImagePath","mockFailImageBuffer","mockMkdirSync","mockMkdirpSync","mockWriteFileSync","mockPixelMatch","mockGlur","snapshotDirExists","snapshotExists","outputDirExists","defaultExists","pixelmatchResult","mockFs","sync","Object","assign","existsSync","mkdirSync","writeFileSync","diffImageToSnapshot","mockImplementation","p","join","bn","basename","result","receivedDir","diffDir","toMatchObject","diffOutputPath","diffRatio","diffPixelCount","pass","calls","isBase64ImgStr","imgSrcString","includes","toBe","toHaveBeenCalledTimes","toHaveBeenCalledWith","any","threshold","storeReceivedOnFailure","receivedSnapshotPath","allowSizeMismatch","diffSize","Number","customDiffConfig","foo","not","toHaveBeenCalled","updatePassedSnapshot","diffResult","toHaveProperty","diffDirection","toThrowErrorMatchingSnapshot","blur"],"sources":["diff-snapshot.spec.js"],"sourcesContent":["/*\n * Copyright (c) 2017 American Express Travel Related Services Company, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License. You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under the License\n * is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n * or implied. See the License for the specific language governing permissions and limitations under\n * the License.\n */\n\n/* eslint-disable global-require */\nconst fs = require('fs');\nconst path = require('path');\n\ndescribe('diff-snapshot', () => {\n  beforeEach(() => {\n    jest.resetModules();\n    jest.resetAllMocks();\n  });\n\n  describe('runDiffImageToSnapshot', () => {\n    const mockSpawnSync = jest.fn();\n    const fakeRequest = {\n      receivedImageBuffer: Buffer.from('abcdefg'),\n      snapshotIdentifier: 'foo',\n      snapshotsDir: 'bar',\n      updateSnapshot: false,\n      failureThreshold: 0,\n      failureThresholdType: 'pixel',\n    };\n\n    function setupTest(spawnReturn) {\n      mockSpawnSync.mockReturnValue(spawnReturn);\n      jest.mock('child_process', () => ({ spawnSync: mockSpawnSync }));\n      const { runDiffImageToSnapshot } = require('../src/diff-snapshot');\n      return runDiffImageToSnapshot;\n    }\n\n    it('runs external process and returns result', () => {\n      const runDiffImageToSnapshot = setupTest({\n        status: 0, output: [null, null, null, JSON.stringify({ add: true, updated: false })],\n      });\n\n      expect(runDiffImageToSnapshot(fakeRequest)).toEqual({ add: true, updated: false });\n\n      expect(mockSpawnSync).toBeCalled();\n    });\n\n    it.each`\n      spawnReturn\n      ${{ status: 1 }}\n      ${{ status: 1, error: {} }}\n      ${{ status: 1, error: new Error() }}\n    `(\n  'throws an Unknown Error when process returns a non-zero status $#',\n  ({ spawnReturn }) => {\n    const runDiffImageToSnapshot = setupTest(spawnReturn);\n\n    expect(() => runDiffImageToSnapshot(fakeRequest)).toThrowError(\n      new Error('Error running image diff: Unknown Error')\n    );\n  }\n);\n\n    it('throws a helpful error if available', () => {\n      const runDiffImageToSnapshot = setupTest({\n        status: 1,\n        error: new Error('ðŸ¦–'),\n      });\n      expect(() => runDiffImageToSnapshot(fakeRequest)).toThrowError(\n        new Error('Error running image diff: ðŸ¦–')\n      );\n    });\n  });\n\n  describe('diffImageToSnapshot', () => {\n    const mockSnapshotsDir = path.normalize('/path/to/snapshots');\n    const mockReceivedDir = path.normalize('/path/to/snapshots/__received_output__');\n    const mockDiffDir = path.normalize('/path/to/snapshots/__diff_output__');\n    const mockSnapshotIdentifier = 'id1';\n    const mockImagePath = './__tests__/stubs/TestImage.png';\n    const mockImageBuffer = fs.readFileSync(mockImagePath);\n    const mockBigImagePath = './__tests__/stubs/TestImage150x150.png';\n    const mockBigImageBuffer = fs.readFileSync(mockBigImagePath);\n    const mockFailImagePath = './__tests__/stubs/TestImageFailure.png';\n    const mockFailImageBuffer = fs.readFileSync(mockFailImagePath);\n    const mockMkdirSync = jest.fn();\n    const mockMkdirpSync = jest.fn();\n    const mockWriteFileSync = jest.fn();\n    const mockPixelMatch = jest.fn();\n    const mockGlur = jest.fn();\n\n    function setupTest({\n      snapshotDirExists,\n      snapshotExists,\n      outputDirExists,\n      defaultExists = true,\n      pixelmatchResult = 0,\n    }) {\n      const mockFs = Object.assign({}, fs, {\n        existsSync: jest.fn(),\n        mkdirSync: mockMkdirSync,\n        writeFileSync: mockWriteFileSync,\n        readFileSync: jest.fn(),\n      });\n\n      jest.mock('fs', () => mockFs);\n      jest.mock('mkdirp', () => ({ sync: mockMkdirpSync }));\n      const { diffImageToSnapshot } = require('../src/diff-snapshot');\n\n      mockFs.existsSync.mockImplementation((p) => {\n        switch (p) {\n          case path.join(mockSnapshotsDir, `${mockSnapshotIdentifier}.png`):\n            return snapshotExists;\n          case mockDiffDir:\n            return !!outputDirExists;\n          case mockSnapshotsDir:\n            return !!snapshotDirExists;\n          default:\n            return !!defaultExists;\n        }\n      });\n      mockFs.readFileSync.mockImplementation((p) => {\n        const bn = path.basename(p);\n\n        if (bn === 'id1.png' && snapshotExists) {\n          return mockImageBuffer;\n        }\n\n        return null;\n      });\n\n      jest.mock('pixelmatch', () => mockPixelMatch);\n      mockPixelMatch.mockImplementation(() => pixelmatchResult);\n\n      jest.mock('glur', () => mockGlur);\n\n      return diffImageToSnapshot;\n    }\n\n    it('should run comparison if there is already a snapshot stored and updateSnapshot flag is not set', () => {\n      const diffImageToSnapshot = setupTest({ snapshotExists: true });\n      const result = diffImageToSnapshot({\n        receivedImageBuffer: mockImageBuffer,\n        snapshotIdentifier: mockSnapshotIdentifier,\n        snapshotsDir: mockSnapshotsDir,\n        receivedDir: mockReceivedDir,\n        diffDir: mockDiffDir,\n        updateSnapshot: false,\n        failureThreshold: 0,\n        failureThresholdType: 'pixel',\n      });\n\n      expect(result).toMatchObject({\n        diffOutputPath: path.join(mockSnapshotsDir, '__diff_output__', 'id1-diff.png'),\n        diffRatio: 0,\n        diffPixelCount: 0,\n        pass: true,\n      });\n    });\n\n    it('it should not write a diff if a test passes', () => {\n      const diffImageToSnapshot = setupTest({ snapshotExists: true, pixelmatchResult: 0 });\n      const result = diffImageToSnapshot({\n        receivedImageBuffer: mockImageBuffer,\n        snapshotIdentifier: mockSnapshotIdentifier,\n        snapshotsDir: mockSnapshotsDir,\n        receivedDir: mockReceivedDir,\n        diffDir: mockDiffDir,\n        updateSnapshot: false,\n        failureThreshold: 0,\n        failureThresholdType: 'pixel',\n      });\n\n      expect(result).toMatchObject({\n        diffOutputPath: path.join(mockSnapshotsDir, '__diff_output__', 'id1-diff.png'),\n        diffRatio: 0,\n        diffPixelCount: 0,\n        pass: true,\n      });\n\n      // Check that that it did not attempt to write a diff\n      expect(mockWriteFileSync.mock.calls).toEqual([]);\n    });\n\n    it('should write a diff image and imgSrcString if the test fails', () => {\n      const diffImageToSnapshot = setupTest({ snapshotExists: true, pixelmatchResult: 5000 });\n      const result = diffImageToSnapshot({\n        receivedImageBuffer: mockFailImageBuffer,\n        snapshotIdentifier: mockSnapshotIdentifier,\n        snapshotsDir: mockSnapshotsDir,\n        receivedDir: mockReceivedDir,\n        diffDir: mockDiffDir,\n        updateSnapshot: false,\n        failureThreshold: 0,\n        failureThresholdType: 'pixel',\n      });\n\n      expect(result).toMatchObject({\n        diffOutputPath: path.join(mockSnapshotsDir, '__diff_output__', 'id1-diff.png'),\n        diffRatio: 0.5,\n        diffPixelCount: 5000,\n        pass: false,\n      });\n\n      const isBase64ImgStr = result.imgSrcString.includes('data:image/png;base64,iV');\n      expect(isBase64ImgStr).toBe(true);\n\n      expect(mockPixelMatch).toHaveBeenCalledTimes(1);\n      expect(mockPixelMatch).toHaveBeenCalledWith(\n        expect.any(Buffer),\n        expect.any(Buffer),\n        expect.any(Buffer),\n        100,\n        100,\n        { threshold: 0.01 }\n      );\n\n      expect(mockWriteFileSync).toHaveBeenCalledTimes(1);\n    });\n\n    it('should write a received image if the test fails and storeReceivedOnFailure = true', () => {\n      const diffImageToSnapshot = setupTest({ snapshotExists: true, pixelmatchResult: 5000 });\n      const result = diffImageToSnapshot({\n        receivedImageBuffer: mockFailImageBuffer,\n        snapshotIdentifier: mockSnapshotIdentifier,\n        snapshotsDir: mockSnapshotsDir,\n        storeReceivedOnFailure: true,\n        receivedDir: mockReceivedDir,\n        diffDir: mockDiffDir,\n        updateSnapshot: false,\n        failureThreshold: 0,\n        failureThresholdType: 'pixel',\n      });\n\n      expect(result).toMatchObject({\n        diffOutputPath: path.join(mockSnapshotsDir, '__diff_output__', 'id1-diff.png'),\n        receivedSnapshotPath: path.join(mockSnapshotsDir, '__received_output__', 'id1-received.png'),\n        diffRatio: 0.5,\n        diffPixelCount: 5000,\n        pass: false,\n      });\n\n      expect(mockWriteFileSync).toHaveBeenCalledTimes(2);\n    });\n\n    it('should not write a received image if the test fails and storeReceivedOnFailure = false', () => {\n      const diffImageToSnapshot = setupTest({ snapshotExists: true, pixelmatchResult: 5000 });\n      const result = diffImageToSnapshot({\n        receivedImageBuffer: mockFailImageBuffer,\n        snapshotIdentifier: mockSnapshotIdentifier,\n        snapshotsDir: mockSnapshotsDir,\n        storeReceivedOnFailure: false,\n        receivedDir: mockReceivedDir,\n        diffDir: mockDiffDir,\n        updateSnapshot: false,\n        failureThreshold: 0,\n        failureThresholdType: 'pixel',\n      });\n\n      expect(result).toMatchObject({\n        diffOutputPath: path.join(mockSnapshotsDir, '__diff_output__', 'id1-diff.png'),\n        diffRatio: 0.5,\n        diffPixelCount: 5000,\n        pass: false,\n      });\n\n      expect(mockWriteFileSync).toHaveBeenCalledTimes(1);\n    });\n\n    it('should fail if image passed is a different size', () => {\n      const diffImageToSnapshot = setupTest({ snapshotExists: true, pixelmatchResult: 5000 });\n      const result = diffImageToSnapshot({\n        receivedImageBuffer: mockBigImageBuffer,\n        snapshotIdentifier: mockSnapshotIdentifier,\n        snapshotsDir: mockSnapshotsDir,\n        receivedDir: mockReceivedDir,\n        diffDir: mockDiffDir,\n        updateSnapshot: false,\n        failureThreshold: 0,\n        failureThresholdType: 'pixel',\n      });\n\n      expect(result).toMatchObject({\n        diffOutputPath: path.join(mockSnapshotsDir, '__diff_output__', 'id1-diff.png'),\n        pass: false,\n      });\n      expect(mockPixelMatch).toHaveBeenCalledTimes(1);\n      expect(mockPixelMatch).toHaveBeenCalledWith(\n        expect.any(Buffer),\n        expect.any(Buffer),\n        expect.any(Buffer),\n        150,\n        150,\n        { threshold: 0.01 }\n      );\n\n      expect(mockWriteFileSync).toHaveBeenCalledTimes(1);\n    });\n\n    it('should pass <= failureThreshold pixel', () => {\n      const diffImageToSnapshot = setupTest({ snapshotExists: true, pixelmatchResult: 250 });\n      const result = diffImageToSnapshot({\n        receivedImageBuffer: mockFailImageBuffer,\n        snapshotIdentifier: mockSnapshotIdentifier,\n        snapshotsDir: mockSnapshotsDir,\n        receivedDir: mockReceivedDir,\n        diffDir: mockDiffDir,\n        updateSnapshot: false,\n        failureThreshold: 250,\n        failureThresholdType: 'pixel',\n      });\n\n      expect(result.pass).toBe(true);\n      expect(result.diffPixelCount).toBe(250);\n      expect(result.diffRatio).toBe(0.025);\n    });\n\n    it('should pass with allowSizeMismatch: true if image passed is a different size but <= failureThreshold pixel', () => {\n      const diffImageToSnapshot = setupTest({ snapshotExists: true, pixelmatchResult: 250 });\n      const result = diffImageToSnapshot({\n        receivedImageBuffer: mockBigImageBuffer,\n        snapshotIdentifier: mockSnapshotIdentifier,\n        snapshotsDir: mockSnapshotsDir,\n        receivedDir: mockReceivedDir,\n        diffDir: mockDiffDir,\n        updateSnapshot: false,\n        failureThreshold: 250,\n        failureThresholdType: 'pixel',\n        allowSizeMismatch: true,\n      });\n\n      expect(result.pass).toBe(true);\n      expect(result.diffSize).toBe(true);\n      expect(result.diffPixelCount).toBe(250);\n      expect(result.diffRatio).toBe(0.1 / 9);\n    });\n\n    it('should fail with allowSizeMismatch: true if image passed is a different size but > failureThreshold pixel', () => {\n      const diffImageToSnapshot = setupTest({ snapshotExists: true, pixelmatchResult: 250 });\n      const result = diffImageToSnapshot({\n        receivedImageBuffer: mockBigImageBuffer,\n        snapshotIdentifier: mockSnapshotIdentifier,\n        snapshotsDir: mockSnapshotsDir,\n        receivedDir: mockReceivedDir,\n        diffDir: mockDiffDir,\n        updateSnapshot: false,\n        failureThreshold: 0,\n        failureThresholdType: 'pixel',\n        allowSizeMismatch: true,\n      });\n\n      expect(result.pass).toBe(false);\n      expect(result.diffSize).toBe(true);\n      expect(result.diffPixelCount).toBe(250);\n      expect(result.diffRatio).toBe(0.1 / 9);\n    });\n\n    it('should pass = image checksums', () => {\n      const diffImageToSnapshot = setupTest({ snapshotExists: true, pixelmatchResult: 0 });\n      const result = diffImageToSnapshot({\n        receivedImageBuffer: mockImageBuffer,\n        snapshotIdentifier: mockSnapshotIdentifier,\n        snapshotsDir: mockSnapshotsDir,\n        receivedDir: mockReceivedDir,\n        diffDir: mockDiffDir,\n        updateSnapshot: false,\n        failureThreshold: 0,\n        failureThresholdType: 'pixel',\n      });\n\n      expect(result.pass).toBe(true);\n      expect(result.diffPixelCount).toBe(0);\n      expect(result.diffRatio).toBe(0);\n    });\n\n    it('should run pixelmatch != image checksums', () => {\n      const diffImageToSnapshot = setupTest({ snapshotExists: true, pixelmatchResult: 250 });\n      const result = diffImageToSnapshot({\n        receivedImageBuffer: mockFailImageBuffer,\n        snapshotIdentifier: mockSnapshotIdentifier,\n        snapshotsDir: mockSnapshotsDir,\n        receivedDir: mockReceivedDir,\n        diffDir: mockDiffDir,\n        updateSnapshot: false,\n        failureThreshold: 250,\n        failureThresholdType: 'pixel',\n      });\n\n      expect(mockPixelMatch).toHaveBeenCalledTimes(1);\n      expect(result.pass).toBe(true);\n      expect(result.diffPixelCount).toBe(250);\n      expect(result.diffRatio).toBe(0.025);\n    });\n\n    it('should fail > failureThreshold pixel', () => {\n      const diffImageToSnapshot = setupTest({ snapshotExists: true, pixelmatchResult: 251 });\n      const result = diffImageToSnapshot({\n        receivedImageBuffer: mockFailImageBuffer,\n        snapshotIdentifier: mockSnapshotIdentifier,\n        snapshotsDir: mockSnapshotsDir,\n        receivedDir: mockReceivedDir,\n        diffDir: mockDiffDir,\n        updateSnapshot: false,\n        failureThreshold: 250,\n        failureThresholdType: 'pixel',\n      });\n\n      expect(result.pass).toBe(false);\n      expect(result.diffPixelCount).toBe(251);\n      expect(result.diffRatio).toBe(0.0251);\n    });\n\n    it('should pass <= failureThreshold percent', () => {\n      const diffImageToSnapshot = setupTest({ snapshotExists: true, pixelmatchResult: 250 });\n      const result = diffImageToSnapshot({\n        receivedImageBuffer: mockFailImageBuffer,\n        snapshotIdentifier: mockSnapshotIdentifier,\n        snapshotsDir: mockSnapshotsDir,\n        receivedDir: mockReceivedDir,\n        diffDir: mockDiffDir,\n        updateSnapshot: false,\n        failureThreshold: 0.025,\n        failureThresholdType: 'percent',\n      });\n\n      expect(result.pass).toBe(true);\n      expect(result.diffPixelCount).toBe(250);\n      expect(result.diffRatio).toBe(0.025);\n    });\n\n    it('should fail > failureThreshold percent', () => {\n      const diffImageToSnapshot = setupTest({ snapshotExists: true, pixelmatchResult: 251 });\n      const result = diffImageToSnapshot({\n        receivedImageBuffer: mockFailImageBuffer,\n        snapshotIdentifier: mockSnapshotIdentifier,\n        snapshotsDir: mockSnapshotsDir,\n        receivedDir: mockReceivedDir,\n        diffDir: mockDiffDir,\n        updateSnapshot: false,\n        failureThreshold: 0.025,\n        failureThresholdType: 'percent',\n      });\n\n      expect(result.pass).toBe(false);\n      expect(result.diffPixelCount).toBe(251);\n      expect(result.diffRatio).toBe(0.0251);\n    });\n\n    it('should take the default diff config', () => {\n      const diffImageToSnapshot = setupTest({ snapshotExists: true });\n\n      diffImageToSnapshot({\n        receivedImageBuffer: mockImageBuffer,\n        snapshotIdentifier: mockSnapshotIdentifier,\n        snapshotsDir: mockSnapshotsDir,\n        diffDir: mockDiffDir,\n        updateSnapshot: false,\n        failureThreshold: 0,\n        failureThresholdType: 'pixel',\n      });\n\n      // Check that pixelmatch was not called\n      expect(mockPixelMatch).toHaveBeenCalledWith(\n        expect.any(Object), // buffer data\n        expect.any(Object), // buffer data\n        expect.any(Object), // buffer data\n        expect.any(Number), // image width\n        expect.any(Number), // image height\n        { threshold: 0.01 }\n      );\n    });\n\n    it('should merge custom configuration with default configuration if custom config is passed', () => {\n      const diffImageToSnapshot = setupTest({ snapshotExists: true });\n\n      diffImageToSnapshot({\n        receivedImageBuffer: mockImageBuffer,\n        snapshotIdentifier: mockSnapshotIdentifier,\n        snapshotsDir: mockSnapshotsDir,\n        receivedDir: mockReceivedDir,\n        diffDir: mockDiffDir,\n        updateSnapshot: false,\n        customDiffConfig: {\n          foo: 'bar',\n        },\n        failureThreshold: 0,\n        failureThresholdType: 'pixel',\n      });\n\n      // Check that pixelmatch was not called\n      expect(mockPixelMatch).toHaveBeenCalledWith(\n        expect.any(Object), // buffer data\n        expect.any(Object), // buffer data\n        expect.any(Object), // buffer data\n        expect.any(Number), // image width\n        expect.any(Number), // image height\n        { foo: 'bar', threshold: 0.01 }\n      );\n    });\n\n    it('should create diff output directory if there is not one already and test is failing', () => {\n      const diffImageToSnapshot = setupTest({\n        snapshotExists: true,\n        outputDirExists: false,\n        pixelmatchResult: 100,\n      });\n      diffImageToSnapshot({\n        receivedImageBuffer: mockFailImageBuffer,\n        snapshotIdentifier: mockSnapshotIdentifier,\n        snapshotsDir: mockSnapshotsDir,\n        receivedDir: mockReceivedDir,\n        diffDir: mockDiffDir,\n        failureThreshold: 0,\n        failureThresholdType: 'pixel',\n      });\n\n      expect(mockMkdirpSync).toHaveBeenCalledWith(path.join(mockSnapshotsDir, '__diff_output__'));\n    });\n\n    it('should create diff output sub-directory if there is not one already and test is failing', () => {\n      const diffImageToSnapshot = setupTest({\n        snapshotExists: true,\n        outputDirExists: false,\n        pixelmatchResult: 100,\n      });\n\n      diffImageToSnapshot({\n        receivedImageBuffer: mockFailImageBuffer,\n        snapshotIdentifier: path.join('parent', mockSnapshotIdentifier),\n        snapshotsDir: mockSnapshotsDir,\n        receivedDir: mockReceivedDir,\n        diffDir: mockDiffDir,\n        failureThreshold: 0,\n        failureThresholdType: 'pixel',\n      });\n\n      expect(mockMkdirpSync).toHaveBeenCalledWith(path.join(mockSnapshotsDir, '__diff_output__', 'parent'));\n    });\n\n    it('should not create diff output directory if test passed', () => {\n      const diffImageToSnapshot = setupTest({ snapshotExists: true, outputDirExists: false });\n      diffImageToSnapshot({\n        receivedImageBuffer: mockImageBuffer,\n        snapshotIdentifier: mockSnapshotIdentifier,\n        snapshotsDir: mockSnapshotsDir,\n        receivedDir: mockReceivedDir,\n        diffDir: mockDiffDir,\n        updateSnapshot: false,\n        failureThreshold: 0,\n        failureThresholdType: 'pixel',\n      });\n\n      expect(mockMkdirSync).not.toHaveBeenCalled();\n    });\n\n    it('should not create diff output directory if there is one there already', () => {\n      const diffImageToSnapshot = setupTest({ snapshotExists: true, outputDirExists: true });\n      diffImageToSnapshot({\n        receivedImageBuffer: mockImageBuffer,\n        snapshotIdentifier: mockSnapshotIdentifier,\n        snapshotsDir: mockSnapshotsDir,\n        receivedDir: mockReceivedDir,\n        diffDir: mockDiffDir,\n        updateSnapshot: false,\n        failureThreshold: 0,\n        failureThresholdType: 'pixel',\n      });\n\n      expect(mockMkdirSync).not.toHaveBeenCalledWith(path.join(mockSnapshotsDir, '__diff_output__'));\n    });\n\n    it('should create snapshots directory if there is not one already', () => {\n      const diffImageToSnapshot = setupTest({ snapshotExists: true, snapshotDirExists: false });\n      diffImageToSnapshot({\n        receivedImageBuffer: mockImageBuffer,\n        snapshotIdentifier: mockSnapshotIdentifier,\n        snapshotsDir: mockSnapshotsDir,\n        receivedDir: mockReceivedDir,\n        diffDir: mockDiffDir,\n        updateSnapshot: true,\n        updatePassedSnapshot: true,\n        failureThreshold: 0,\n        failureThresholdType: 'pixel',\n      });\n\n      expect(mockMkdirpSync).toHaveBeenCalledWith(mockSnapshotsDir);\n    });\n\n    it('should create snapshots sub-directory if there is not one already', () => {\n      const diffImageToSnapshot = setupTest({ snapshotExists: true, snapshotDirExists: false });\n      diffImageToSnapshot({\n        receivedImageBuffer: mockImageBuffer,\n        snapshotIdentifier: path.join('parent', mockSnapshotIdentifier),\n        snapshotsDir: mockSnapshotsDir,\n        receivedDir: mockReceivedDir,\n        diffDir: mockDiffDir,\n        updateSnapshot: true,\n        updatePassedSnapshot: true,\n        failureThreshold: 0,\n        failureThresholdType: 'pixel',\n      });\n\n      expect(mockMkdirpSync).toHaveBeenCalledWith(path.join(mockSnapshotsDir, 'parent'));\n    });\n\n    it('should not create snapshots directory if there already is one', () => {\n      const diffImageToSnapshot = setupTest({ snapshotExists: true, snapshotDirExists: true });\n      diffImageToSnapshot({\n        receivedImageBuffer: mockImageBuffer,\n        snapshotIdentifier: mockSnapshotIdentifier,\n        snapshotsDir: mockSnapshotsDir,\n        receivedDir: mockReceivedDir,\n        diffDir: mockDiffDir,\n        updateSnapshot: true,\n        failureThreshold: 0,\n        failureThresholdType: 'pixel',\n      });\n\n      expect(mockMkdirSync).not.toHaveBeenCalledWith(mockSnapshotsDir);\n    });\n\n    it('should create snapshot in __image_snapshots__ directory if there is not a snapshot created yet', () => {\n      const diffImageToSnapshot = setupTest({ snapshotExists: false, snapshotDirExists: false });\n      diffImageToSnapshot({\n        receivedImageBuffer: mockImageBuffer,\n        snapshotIdentifier: mockSnapshotIdentifier,\n        snapshotsDir: mockSnapshotsDir,\n        receivedDir: mockReceivedDir,\n        diffDir: mockDiffDir,\n        updateSnapshot: false,\n        failureThreshold: 0,\n        failureThresholdType: 'pixel',\n      });\n\n      expect(mockWriteFileSync).toHaveBeenCalledTimes(1);\n      expect(mockWriteFileSync).toHaveBeenCalledWith(path.join(mockSnapshotsDir, `${mockSnapshotIdentifier}.png`), mockImageBuffer);\n    });\n\n    it('should return updated flag if snapshot was updated', () => {\n      const diffImageToSnapshot = setupTest({ snapshotExists: true });\n      const diffResult = diffImageToSnapshot({\n        receivedImageBuffer: mockImageBuffer,\n        snapshotIdentifier: mockSnapshotIdentifier,\n        snapshotsDir: mockSnapshotsDir,\n        receivedDir: mockReceivedDir,\n        diffDir: mockDiffDir,\n        updateSnapshot: true,\n        updatePassedSnapshot: true,\n        failureThreshold: 0,\n        failureThresholdType: 'pixel',\n      });\n\n      expect(diffResult).toHaveProperty('updated', true);\n    });\n\n    it('should return added flag if snapshot was added', () => {\n      const diffImageToSnapshot = setupTest({ snapshotExists: false });\n      const diffResult = diffImageToSnapshot({\n        receivedImageBuffer: mockImageBuffer,\n        snapshotIdentifier: mockSnapshotIdentifier,\n        snapshotsDir: mockSnapshotsDir,\n        receivedDir: mockReceivedDir,\n        diffDir: mockDiffDir,\n        diffDirection: 'vertical',\n        updateSnapshot: false,\n        failureThreshold: 0,\n        failureThresholdType: 'pixel',\n      });\n\n      expect(diffResult).toHaveProperty('added', true);\n      expect(mockWriteFileSync).toHaveBeenCalledWith(\n        path.join(mockSnapshotsDir, 'id1.png'),\n        expect.any(Buffer)\n      );\n    });\n\n    it('should return path to comparison output image if a comparison was performed', () => {\n      const diffImageToSnapshot = setupTest({ snapshotExists: true });\n      const diffResult = diffImageToSnapshot({\n        receivedImageBuffer: mockImageBuffer,\n        snapshotIdentifier: mockSnapshotIdentifier,\n        snapshotsDir: mockSnapshotsDir,\n        receivedDir: mockReceivedDir,\n        diffDir: mockDiffDir,\n        updateSnapshot: false,\n        failureThreshold: 0,\n        failureThresholdType: 'pixel',\n      });\n\n      expect(diffResult).toHaveProperty('diffOutputPath', path.join(mockSnapshotsDir, '__diff_output__', `${mockSnapshotIdentifier}-diff.png`));\n    });\n\n    it('should throw an error if an unknown threshold type is supplied', () => {\n      const diffImageToSnapshot = setupTest({ snapshotExists: true });\n\n      expect(() => {\n        diffImageToSnapshot({\n          receivedImageBuffer: mockFailImageBuffer,\n          snapshotIdentifier: mockSnapshotIdentifier,\n          snapshotsDir: mockSnapshotsDir,\n          receivedDir: mockReceivedDir,\n          diffDir: mockDiffDir,\n          updateSnapshot: false,\n          failureThreshold: 0,\n          failureThresholdType: 'banana',\n        });\n      }).toThrowErrorMatchingSnapshot();\n    });\n\n    it('should not write a file if updatePassedSnapshot is false', () => {\n      const diffImageToSnapshot = setupTest({ snapshotExists: true });\n\n      const diffResult = diffImageToSnapshot({\n        receivedImageBuffer: mockImageBuffer,\n        snapshotIdentifier: mockSnapshotIdentifier,\n        snapshotsDir: mockSnapshotsDir,\n        receivedDir: mockReceivedDir,\n        diffDir: mockDiffDir,\n        updateSnapshot: true,\n        updatePassedSnapshot: false,\n        failureThreshold: 0,\n        failureThresholdType: 'pixel',\n      });\n\n      expect(mockWriteFileSync).not.toHaveBeenCalled();\n      expect(diffResult).toHaveProperty('pass', true);\n    });\n\n    it('should write a file if updatePassedSnapshot is true on passing test', () => {\n      const diffImageToSnapshot = setupTest({ snapshotExists: true });\n\n      const diffResult = diffImageToSnapshot({\n        receivedImageBuffer: mockImageBuffer,\n        snapshotIdentifier: mockSnapshotIdentifier,\n        snapshotsDir: mockSnapshotsDir,\n        receivedDir: mockReceivedDir,\n        diffDir: mockDiffDir,\n        updateSnapshot: true,\n        updatePassedSnapshot: true,\n        failureThreshold: 0,\n        failureThresholdType: 'pixel',\n      });\n\n      expect(mockWriteFileSync).toHaveBeenCalledTimes(1);\n      expect(diffResult).toHaveProperty('updated', true);\n    });\n\n    it('should update snapshot on failure if updatePassedSnapshot is false', () => {\n      const diffImageToSnapshot = setupTest({ snapshotExists: true, pixelmatchResult: 500 });\n\n      const diffResult = diffImageToSnapshot({\n        receivedImageBuffer: mockFailImageBuffer,\n        snapshotIdentifier: mockSnapshotIdentifier,\n        snapshotsDir: mockSnapshotsDir,\n        receivedDir: mockReceivedDir,\n        diffDir: mockDiffDir,\n        updateSnapshot: true,\n        updatePassedSnapshot: false,\n        failureThreshold: 0,\n        failureThresholdType: 'pixel',\n      });\n\n      expect(mockWriteFileSync).toHaveBeenCalledTimes(1);\n      expect(diffResult).toHaveProperty('updated', true);\n    });\n\n    it('should not run glur on compared images when no value for blur param is provided', () => {\n      const diffImageToSnapshot = setupTest({ snapshotExists: true });\n      const result = diffImageToSnapshot({\n        receivedImageBuffer: mockFailImageBuffer,\n        snapshotIdentifier: mockSnapshotIdentifier,\n        snapshotsDir: mockSnapshotsDir,\n        receivedDir: mockReceivedDir,\n        diffDir: mockDiffDir,\n        updateSnapshot: false,\n        failureThreshold: 0,\n        failureThresholdType: 'pixel',\n      });\n\n      expect(mockGlur).not.toHaveBeenCalled();\n      expect(result.pass).toBe(true);\n    });\n\n    it('should run glur on compared images when value for blur param is provided', () => {\n      const diffImageToSnapshot = setupTest({ snapshotExists: true });\n      const result = diffImageToSnapshot({\n        receivedImageBuffer: mockFailImageBuffer,\n        snapshotIdentifier: mockSnapshotIdentifier,\n        snapshotsDir: mockSnapshotsDir,\n        receivedDir: mockReceivedDir,\n        diffDir: mockDiffDir,\n        updateSnapshot: false,\n        failureThreshold: 0,\n        failureThresholdType: 'pixel',\n        blur: 2,\n      });\n\n      expect(mockGlur).toHaveBeenCalledTimes(2);\n      expect(mockGlur).toHaveBeenCalledWith(\n        expect.any(Buffer),\n        100,\n        100,\n        2\n      );\n      expect(result.pass).toBe(true);\n    });\n\n    it('should populate imgSrcString if test failed', () => {\n      const diffImageToSnapshot = setupTest({\n        snapshotExists: true,\n        outputDirExists: false,\n        pixelmatchResult: 100,\n      });\n      diffImageToSnapshot({\n        receivedImageBuffer: mockFailImageBuffer,\n        snapshotIdentifier: mockSnapshotIdentifier,\n        snapshotsDir: mockSnapshotsDir,\n        receivedDir: mockReceivedDir,\n        diffDir: mockDiffDir,\n        failureThreshold: 0,\n        failureThresholdType: 'pixel',\n      });\n\n      expect(mockMkdirpSync).toHaveBeenCalledWith(path.join(mockSnapshotsDir, '__diff_output__'));\n    });\n  });\n});\n\n"],"mappings":"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"}