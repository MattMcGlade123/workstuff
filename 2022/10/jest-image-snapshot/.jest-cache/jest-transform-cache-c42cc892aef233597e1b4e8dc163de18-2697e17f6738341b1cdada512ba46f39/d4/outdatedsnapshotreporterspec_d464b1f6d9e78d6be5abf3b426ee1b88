62f86f888b1e6f3e74d86797dad13612
/*
 * Copyright (c) 2020 American Express Travel Related Services Company, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */

const fs = require('fs');
const os = require('os');
const childProcess = require('child_process');
const path = require('path');
const rimraf = require('rimraf');
describe('OutdatedSnapshotReporter', () => {
  const jestImageSnapshotDir = path.join(__dirname, '..');
  const imagePath = path.join(__dirname, 'stubs/TestImage.png');
  const jestExe = process.platform === 'win32' ? 'jest.cmd' : 'jest';
  const jestBinPath = path.join(jestImageSnapshotDir, `node_modules/.bin/${jestExe}`);
  let tmpDir = os.tmpdir();
  function setupTestProject(dir) {
    const jestConfig = {
      reporters: ['default', `${jestImageSnapshotDir}/src/outdated-snapshot-reporter.js`]
    };
    const jestConfigFile = `module.exports = ${JSON.stringify(jestConfig)}`;
    const commonTest = `
    const fs = require('fs');
    const {toMatchImageSnapshot} = require('${jestImageSnapshotDir.replace(/\\/g, '/')}');
    expect.extend({toMatchImageSnapshot});
    `;
    const imageTest = `${commonTest}
    it('should run an image snapshot test', () => {
      expect(fs.readFileSync('image.png')).toMatchImageSnapshot();
    });
    `;
    const doubleTest = `${imageTest}
    it('should run an image snapshot test', () => {
      expect(fs.readFileSync('image.png')).toMatchImageSnapshot();
    });
    `;
    fs.writeFileSync(path.join(dir, 'jest.config.js'), jestConfigFile);
    fs.writeFileSync(path.join(dir, 'image.test.js'), imageTest);
    fs.writeFileSync(path.join(dir, 'double.test.js'), doubleTest);
    fs.copyFileSync(imagePath, path.join(dir, 'image.png'));
  }
  function runJest(cliArgs, environment = {}) {
    const child = childProcess.spawnSync(jestBinPath, cliArgs, {
      cwd: tmpDir,
      encoding: 'utf-8',
      env: {
        ...process.env,
        ...environment
      }
    });
    if (child.error) throw child.error;
    return child;
  }
  function getSnapshotFiles() {
    return fs.readdirSync(path.join(tmpDir, '__image_snapshots__'));
  }
  beforeAll(() => {
    tmpDir = fs.mkdtempSync(path.join(os.tmpdir(), 'jest-image-snapshot-tests'));
    setupTestProject(tmpDir);
  });
  afterAll(() => {
    rimraf.sync(tmpDir);
  });
  it('should write the image snapshot on first run', () => {
    const {
      status,
      stdout,
      stderr
    } = runJest(['-u']);
    expect(stderr).toContain('snapshots written');
    expect(status).toEqual(0);
    expect(stdout).toEqual('');
    expect(getSnapshotFiles()).toHaveLength(3);
  });
  it('should not delete the snapshot when environment flag is not enabled', () => {
    const {
      status,
      stdout
    } = runJest(['-u', 'image.test.js']);
    expect(status).toEqual(0);
    expect(stdout).toEqual('');
    expect(getSnapshotFiles()).toHaveLength(3);
  });
  it('should delete the snapshot when environment flag is enabled', () => {
    const {
      status,
      stdout,
      stderr
    } = runJest(['-u', 'image.test.js'], {
      JEST_IMAGE_SNAPSHOT_TRACK_OBSOLETE: '1'
    });
    expect(stderr).toContain('outdated snapshot');
    expect(status).toEqual(0);
    expect(stdout).toEqual('');
    expect(getSnapshotFiles()).toHaveLength(1);
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJmcyIsInJlcXVpcmUiLCJvcyIsImNoaWxkUHJvY2VzcyIsInBhdGgiLCJyaW1yYWYiLCJkZXNjcmliZSIsImplc3RJbWFnZVNuYXBzaG90RGlyIiwiam9pbiIsIl9fZGlybmFtZSIsImltYWdlUGF0aCIsImplc3RFeGUiLCJwcm9jZXNzIiwicGxhdGZvcm0iLCJqZXN0QmluUGF0aCIsInRtcERpciIsInRtcGRpciIsInNldHVwVGVzdFByb2plY3QiLCJkaXIiLCJqZXN0Q29uZmlnIiwicmVwb3J0ZXJzIiwiamVzdENvbmZpZ0ZpbGUiLCJKU09OIiwic3RyaW5naWZ5IiwiY29tbW9uVGVzdCIsInJlcGxhY2UiLCJpbWFnZVRlc3QiLCJkb3VibGVUZXN0Iiwid3JpdGVGaWxlU3luYyIsImNvcHlGaWxlU3luYyIsInJ1bkplc3QiLCJjbGlBcmdzIiwiZW52aXJvbm1lbnQiLCJjaGlsZCIsInNwYXduU3luYyIsImN3ZCIsImVuY29kaW5nIiwiZW52IiwiZXJyb3IiLCJnZXRTbmFwc2hvdEZpbGVzIiwicmVhZGRpclN5bmMiLCJiZWZvcmVBbGwiLCJta2R0ZW1wU3luYyIsImFmdGVyQWxsIiwic3luYyIsIml0Iiwic3RhdHVzIiwic3Rkb3V0Iiwic3RkZXJyIiwiZXhwZWN0IiwidG9Db250YWluIiwidG9FcXVhbCIsInRvSGF2ZUxlbmd0aCIsIkpFU1RfSU1BR0VfU05BUFNIT1RfVFJBQ0tfT0JTT0xFVEUiXSwic291cmNlcyI6WyJvdXRkYXRlZC1zbmFwc2hvdC1yZXBvcnRlci5zcGVjLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjAgQW1lcmljYW4gRXhwcmVzcyBUcmF2ZWwgUmVsYXRlZCBTZXJ2aWNlcyBDb21wYW55LCBJbmMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHRcbiAqIGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZVxuICogaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3NcbiAqIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXJcbiAqIHRoZSBMaWNlbnNlLlxuICovXG5cbmNvbnN0IGZzID0gcmVxdWlyZSgnZnMnKTtcbmNvbnN0IG9zID0gcmVxdWlyZSgnb3MnKTtcbmNvbnN0IGNoaWxkUHJvY2VzcyA9IHJlcXVpcmUoJ2NoaWxkX3Byb2Nlc3MnKTtcbmNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5jb25zdCByaW1yYWYgPSByZXF1aXJlKCdyaW1yYWYnKTtcblxuZGVzY3JpYmUoJ091dGRhdGVkU25hcHNob3RSZXBvcnRlcicsICgpID0+IHtcbiAgY29uc3QgamVzdEltYWdlU25hcHNob3REaXIgPSBwYXRoLmpvaW4oX19kaXJuYW1lLCAnLi4nKTtcbiAgY29uc3QgaW1hZ2VQYXRoID0gcGF0aC5qb2luKF9fZGlybmFtZSwgJ3N0dWJzL1Rlc3RJbWFnZS5wbmcnKTtcbiAgY29uc3QgamVzdEV4ZSA9IHByb2Nlc3MucGxhdGZvcm0gPT09ICd3aW4zMicgPyAnamVzdC5jbWQnIDogJ2plc3QnO1xuICBjb25zdCBqZXN0QmluUGF0aCA9IHBhdGguam9pbihqZXN0SW1hZ2VTbmFwc2hvdERpciwgYG5vZGVfbW9kdWxlcy8uYmluLyR7amVzdEV4ZX1gKTtcbiAgbGV0IHRtcERpciA9IG9zLnRtcGRpcigpO1xuXG4gIGZ1bmN0aW9uIHNldHVwVGVzdFByb2plY3QoZGlyKSB7XG4gICAgY29uc3QgamVzdENvbmZpZyA9IHtcbiAgICAgIHJlcG9ydGVyczogW1xuICAgICAgICAnZGVmYXVsdCcsXG4gICAgICAgIGAke2plc3RJbWFnZVNuYXBzaG90RGlyfS9zcmMvb3V0ZGF0ZWQtc25hcHNob3QtcmVwb3J0ZXIuanNgLFxuICAgICAgXSxcbiAgICB9O1xuICAgIGNvbnN0IGplc3RDb25maWdGaWxlID0gYG1vZHVsZS5leHBvcnRzID0gJHtKU09OLnN0cmluZ2lmeShqZXN0Q29uZmlnKX1gO1xuXG4gICAgY29uc3QgY29tbW9uVGVzdCA9IGBcbiAgICBjb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG4gICAgY29uc3Qge3RvTWF0Y2hJbWFnZVNuYXBzaG90fSA9IHJlcXVpcmUoJyR7amVzdEltYWdlU25hcHNob3REaXIucmVwbGFjZSgvXFxcXC9nLCAnLycpfScpO1xuICAgIGV4cGVjdC5leHRlbmQoe3RvTWF0Y2hJbWFnZVNuYXBzaG90fSk7XG4gICAgYDtcbiAgICBjb25zdCBpbWFnZVRlc3QgPSBgJHtjb21tb25UZXN0fVxuICAgIGl0KCdzaG91bGQgcnVuIGFuIGltYWdlIHNuYXBzaG90IHRlc3QnLCAoKSA9PiB7XG4gICAgICBleHBlY3QoZnMucmVhZEZpbGVTeW5jKCdpbWFnZS5wbmcnKSkudG9NYXRjaEltYWdlU25hcHNob3QoKTtcbiAgICB9KTtcbiAgICBgO1xuICAgIGNvbnN0IGRvdWJsZVRlc3QgPSBgJHtpbWFnZVRlc3R9XG4gICAgaXQoJ3Nob3VsZCBydW4gYW4gaW1hZ2Ugc25hcHNob3QgdGVzdCcsICgpID0+IHtcbiAgICAgIGV4cGVjdChmcy5yZWFkRmlsZVN5bmMoJ2ltYWdlLnBuZycpKS50b01hdGNoSW1hZ2VTbmFwc2hvdCgpO1xuICAgIH0pO1xuICAgIGA7XG5cbiAgICBmcy53cml0ZUZpbGVTeW5jKHBhdGguam9pbihkaXIsICdqZXN0LmNvbmZpZy5qcycpLCBqZXN0Q29uZmlnRmlsZSk7XG4gICAgZnMud3JpdGVGaWxlU3luYyhwYXRoLmpvaW4oZGlyLCAnaW1hZ2UudGVzdC5qcycpLCBpbWFnZVRlc3QpO1xuICAgIGZzLndyaXRlRmlsZVN5bmMocGF0aC5qb2luKGRpciwgJ2RvdWJsZS50ZXN0LmpzJyksIGRvdWJsZVRlc3QpO1xuICAgIGZzLmNvcHlGaWxlU3luYyhpbWFnZVBhdGgsIHBhdGguam9pbihkaXIsICdpbWFnZS5wbmcnKSk7XG4gIH1cblxuICBmdW5jdGlvbiBydW5KZXN0KGNsaUFyZ3MsIGVudmlyb25tZW50ID0ge30pIHtcbiAgICBjb25zdCBjaGlsZCA9IGNoaWxkUHJvY2Vzcy5zcGF3blN5bmMoamVzdEJpblBhdGgsIGNsaUFyZ3MsIHtcbiAgICAgIGN3ZDogdG1wRGlyLFxuICAgICAgZW5jb2Rpbmc6ICd1dGYtOCcsXG4gICAgICBlbnY6IHsgLi4ucHJvY2Vzcy5lbnYsIC4uLmVudmlyb25tZW50IH0sXG4gICAgfSk7XG4gICAgaWYgKGNoaWxkLmVycm9yKSB0aHJvdyBjaGlsZC5lcnJvcjtcblxuICAgIHJldHVybiBjaGlsZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFNuYXBzaG90RmlsZXMoKSB7XG4gICAgcmV0dXJuIGZzLnJlYWRkaXJTeW5jKHBhdGguam9pbih0bXBEaXIsICdfX2ltYWdlX3NuYXBzaG90c19fJykpO1xuICB9XG5cbiAgYmVmb3JlQWxsKCgpID0+IHtcbiAgICB0bXBEaXIgPSBmcy5ta2R0ZW1wU3luYyhcbiAgICAgIHBhdGguam9pbihvcy50bXBkaXIoKSwgJ2plc3QtaW1hZ2Utc25hcHNob3QtdGVzdHMnKVxuICAgICk7XG4gICAgc2V0dXBUZXN0UHJvamVjdCh0bXBEaXIpO1xuICB9KTtcblxuICBhZnRlckFsbCgoKSA9PiB7XG4gICAgcmltcmFmLnN5bmModG1wRGlyKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCB3cml0ZSB0aGUgaW1hZ2Ugc25hcHNob3Qgb24gZmlyc3QgcnVuJywgKCkgPT4ge1xuICAgIGNvbnN0IHsgc3RhdHVzLCBzdGRvdXQsIHN0ZGVyciB9ID0gcnVuSmVzdChbJy11J10pO1xuICAgIGV4cGVjdChzdGRlcnIpLnRvQ29udGFpbignc25hcHNob3RzIHdyaXR0ZW4nKTtcbiAgICBleHBlY3Qoc3RhdHVzKS50b0VxdWFsKDApO1xuICAgIGV4cGVjdChzdGRvdXQpLnRvRXF1YWwoJycpO1xuXG4gICAgZXhwZWN0KGdldFNuYXBzaG90RmlsZXMoKSkudG9IYXZlTGVuZ3RoKDMpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIG5vdCBkZWxldGUgdGhlIHNuYXBzaG90IHdoZW4gZW52aXJvbm1lbnQgZmxhZyBpcyBub3QgZW5hYmxlZCcsICgpID0+IHtcbiAgICBjb25zdCB7IHN0YXR1cywgc3Rkb3V0IH0gPSBydW5KZXN0KFsnLXUnLCAnaW1hZ2UudGVzdC5qcyddKTtcbiAgICBleHBlY3Qoc3RhdHVzKS50b0VxdWFsKDApO1xuICAgIGV4cGVjdChzdGRvdXQpLnRvRXF1YWwoJycpO1xuXG4gICAgZXhwZWN0KGdldFNuYXBzaG90RmlsZXMoKSkudG9IYXZlTGVuZ3RoKDMpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGRlbGV0ZSB0aGUgc25hcHNob3Qgd2hlbiBlbnZpcm9ubWVudCBmbGFnIGlzIGVuYWJsZWQnLCAoKSA9PiB7XG4gICAgY29uc3QgeyBzdGF0dXMsIHN0ZG91dCwgc3RkZXJyIH0gPSBydW5KZXN0KFsnLXUnLCAnaW1hZ2UudGVzdC5qcyddLCB7XG4gICAgICBKRVNUX0lNQUdFX1NOQVBTSE9UX1RSQUNLX09CU09MRVRFOiAnMScsXG4gICAgfSk7XG4gICAgZXhwZWN0KHN0ZGVycikudG9Db250YWluKCdvdXRkYXRlZCBzbmFwc2hvdCcpO1xuICAgIGV4cGVjdChzdGF0dXMpLnRvRXF1YWwoMCk7XG4gICAgZXhwZWN0KHN0ZG91dCkudG9FcXVhbCgnJyk7XG5cbiAgICBleHBlY3QoZ2V0U25hcHNob3RGaWxlcygpKS50b0hhdmVMZW5ndGgoMSk7XG4gIH0pO1xufSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE1BQU1BLEVBQUUsR0FBR0MsT0FBTyxDQUFDLElBQUksQ0FBQztBQUN4QixNQUFNQyxFQUFFLEdBQUdELE9BQU8sQ0FBQyxJQUFJLENBQUM7QUFDeEIsTUFBTUUsWUFBWSxHQUFHRixPQUFPLENBQUMsZUFBZSxDQUFDO0FBQzdDLE1BQU1HLElBQUksR0FBR0gsT0FBTyxDQUFDLE1BQU0sQ0FBQztBQUM1QixNQUFNSSxNQUFNLEdBQUdKLE9BQU8sQ0FBQyxRQUFRLENBQUM7QUFFaENLLFFBQVEsQ0FBQywwQkFBMEIsRUFBRSxNQUFNO0VBQ3pDLE1BQU1DLG9CQUFvQixHQUFHSCxJQUFJLENBQUNJLElBQUksQ0FBQ0MsU0FBUyxFQUFFLElBQUksQ0FBQztFQUN2RCxNQUFNQyxTQUFTLEdBQUdOLElBQUksQ0FBQ0ksSUFBSSxDQUFDQyxTQUFTLEVBQUUscUJBQXFCLENBQUM7RUFDN0QsTUFBTUUsT0FBTyxHQUFHQyxPQUFPLENBQUNDLFFBQVEsS0FBSyxPQUFPLEdBQUcsVUFBVSxHQUFHLE1BQU07RUFDbEUsTUFBTUMsV0FBVyxHQUFHVixJQUFJLENBQUNJLElBQUksQ0FBQ0Qsb0JBQW9CLEVBQUcscUJBQW9CSSxPQUFRLEVBQUMsQ0FBQztFQUNuRixJQUFJSSxNQUFNLEdBQUdiLEVBQUUsQ0FBQ2MsTUFBTSxFQUFFO0VBRXhCLFNBQVNDLGdCQUFnQixDQUFDQyxHQUFHLEVBQUU7SUFDN0IsTUFBTUMsVUFBVSxHQUFHO01BQ2pCQyxTQUFTLEVBQUUsQ0FDVCxTQUFTLEVBQ1IsR0FBRWIsb0JBQXFCLG9DQUFtQztJQUUvRCxDQUFDO0lBQ0QsTUFBTWMsY0FBYyxHQUFJLG9CQUFtQkMsSUFBSSxDQUFDQyxTQUFTLENBQUNKLFVB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