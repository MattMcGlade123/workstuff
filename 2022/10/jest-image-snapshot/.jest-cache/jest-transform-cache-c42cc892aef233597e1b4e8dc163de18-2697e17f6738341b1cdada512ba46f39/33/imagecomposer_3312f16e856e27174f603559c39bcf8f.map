{"version":3,"names":["getMaxImageSize","images","maxWidth","maxHeight","forEach","image","imageWidth","imageHeight","ImageComposer","options","direction","prototype","addImage","imageData","push","getParams","compositeWidth","length","compositeHeight","offsetX","offsetY","imagesCount","module","exports"],"sources":["image-composer.js"],"sourcesContent":["/*\n * Copyright (c) 2019 American Express Travel Related Services Company, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License. You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under the License\n * is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n * or implied. See the License for the specific language governing permissions and limitations under\n * the License.\n */\n\nconst getMaxImageSize = (images) => {\n  let maxWidth = 0;\n  let maxHeight = 0;\n\n  images.forEach((image) => {\n    if (image.imageWidth > maxWidth) {\n      maxWidth = image.imageWidth;\n    }\n\n    if (image.imageHeight > maxHeight) {\n      maxHeight = image.imageHeight;\n    }\n  });\n\n  return {\n    maxWidth,\n    maxHeight,\n  };\n};\n\nconst ImageComposer = function ImageComposer(options = {}) {\n  this.direction = options.direction || 'horizontal';\n  this.images = [];\n\n  return this;\n};\n\nImageComposer.prototype.addImage = function addImage(imageData, imageWidth, imageHeight) {\n  this.images.push({\n    imageData,\n    imageWidth,\n    imageHeight,\n  });\n\n  return this;\n};\n\nImageComposer.prototype.getParams = function getParams() {\n  const { maxWidth, maxHeight } = getMaxImageSize(this.images);\n\n  const compositeWidth = maxWidth * (this.direction === 'horizontal' ? this.images.length : 1);\n  const compositeHeight = maxHeight * (this.direction === 'vertical' ? this.images.length : 1);\n  const offsetX = this.direction === 'horizontal' ? maxWidth : 0;\n  const offsetY = this.direction === 'vertical' ? maxHeight : 0;\n\n  return {\n    direction: this.direction,\n    images: this.images,\n    imagesCount: this.images.length,\n    compositeWidth,\n    compositeHeight,\n    offsetX,\n    offsetY,\n  };\n};\n\nmodule.exports = ImageComposer;\n"],"mappings":"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"}